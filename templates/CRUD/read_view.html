{% extends "menu.html" %} {% block main %}

<form action="{% url 'search' %}" method="get">
<div class="search-fields card">
  <div class="search-form-row">
  <!-- User selects what column they would like to search in -->
  <div class="input-field" >
    <select name="option1">
      <option value="" disabled selected>Choose your option</option>
      {% for key,value in option1Fields.items %}
      <option value="{{ value }}">{{key}}</option>
      {% endfor %}
    </select>
    <label>Column to search</label>
  </div>

  <!-- Here the user chooses the thing to search. If the field is an enum field
        it gives the user options to choose from.-->
  
  <div class="input-field">
    <input id="lsearch_string" name="searchString" type="text" class="validate" placeholder=" "/>
    <label>Search term</label>
  </div>

  <!-- Here the user selects what columns they would like to view on their table -->
  <div class="input-field" id="search-view-columns">
    <select multiple name="option2">
      <option value="" disabled selected>Choose your option</option>
      {% for key in option2Fields %}
        <option >{{key}}</option>
      {% endfor %}
    </select>
    <label>Columns to view</label>
  </div>
</div>
<div class="search-form-row-2 ">
<label>
  <input type="checkbox" name="archive" class="filled-in"/>
  <span>Include archived faculty?</span>
</label>
  <div class="submit">
    <input
      type="submit"
      value="Submit"
      class="btn waves-effect waves-light"
    />
</div>
</div>
</div>
</div>
</form>
<div class="row card">
  <!-- This is where the data shows up! -->
  <table>
    <thead>
      <tr>
        <th>First Name</th>
        <th>Last Name</th>
        <th>Employee ID</th>
      </tr>
    </thead>

    <tbody>
      {% for result in results %}
        <tr>
          <td>{{result.first_name}}</td>
          <td>{{result.last_name}}</td>
          <td>{{result.employeeID}}</td>
        </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}
